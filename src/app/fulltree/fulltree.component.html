<form>
  <!-- <input #filter (keyup)="filterNodes(filter.value, tree)" placeholder="filter nodes"/> -->
</form>
<div style="height: 650px; width: 1200px; overflow: hidden;">

  <tree-root
    #tree
    [nodes]="nodes"
    [options]="customTemplateStringOptions"
    [focused]="true"
    (event)="onEvent($event)"
    (initialized)="onInitialized(tree)"
  >
    <ng-template #treeNodeTemplate let-node>
      <!-- <span title="{{node.data.subTitle}}">{{ node.data.name }}</span>
      <span class="pull-right">{{ childrenCount(node) }}</span>
      <button (click)="go($event)">Custom Action</button> -->
      <ng-container *ngIf="node.isAnswer == true">
        <div id="option{{node.data.name}}{{childrenCount(node)}}">
          <div id="response">
            <label class="padded-label">Response Option</label>
            <div><input type="text" placeholder="Enter an option" class="node-input"></div>
          </div>
        </div>
    </ng-container>
      <select id="nextselect" class="node-option-selector" [(ngModel)]="node.optionValue">
        <option value="question">Question</option>
        <option value="branchend">End of branch</option>
      </select>
      <ng-container *ngIf="node.optionValue == 'question'">
        <div id="question{{node.data.name}}{{childrenCount(node)}}">
          <div id="question">
            <div><input type="text" placeholder="Type to search for questions" class="node-input"></div>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="node.optionValue == 'branchend'">
        <div id="branchend{{node.data.name}}{{childrenCount(node)}}">
          <div id="branchend">
            <div class="branch-end-grid">
              <label class="switch">
                <input type="checkbox" id="togBtn">
                <div class="slider round" style="display: inline-block;"> 
                  <span class="on">Pass</span>
                  <span class="off">Fail</span>
                </div>
              </label>
              <label class="message-label">Message</label>
              <input type="text" placeholder="Please type a message to display" class="message-input">
            </div>
          </div>
        </div>
      </ng-container>
      <div id="node-buttons" class="node-buttons-grid">
        <button id="add-option" class="common-button add-option">+ Add response option</button>
        <button id="add-question" class="common-button add-question">+ Add question</button>
        <button id="add-end" class="common-button add-end">+ Add end of branch</button>
        <div class="spacer"></div>
        <button id="qdetails" class="common-button qdetails">View details</button>
        <button id="deleteitem" class="common-button deleteitem">Delete</button>
      </div>
    </ng-template>
    <ng-template #loadingTemplate>Loading, please hold....</ng-template>
  </tree-root>
</div>
<br>
<div id="actionbuttons" class="page-buttons-grid">
  <button id="test" class="common-button test-button">Test</button>
  <button id="savetree"class="common-button save-button">Save tree</button>
  <div class="spacer"></div>
  <button id="clearTree"class="common-button clear-button">Clear tree</button>
</div>
<!-- <p>API:</p>
<button (click)="tree.treeModel.focusNextNode()">next node</button>
<button (click)="tree.treeModel.focusPreviousNode()">previous node</button>
<button (click)="tree.treeModel.focusDrillDown()">drill down</button>
<button (click)="tree.treeModel.focusDrillUp()">drill up</button>
<button (click)="customTemplateStringOptions.allowDrag = true">allowDrag</button>
<p></p>
<button
  [disabled]="!tree.treeModel.getFocusedNode()"
  (click)="tree.treeModel.getFocusedNode().toggleActivated()">
  {{ tree.treeModel.getFocusedNode()?.isActive ? 'deactivate' : 'activate' }}
</button>
<button
  [disabled]="!tree.treeModel.getFocusedNode()"
  (click)="tree.treeModel.getFocusedNode().toggleExpanded()">
  {{ tree.treeModel.getFocusedNode()?.isExpanded ? 'collapse' : 'expand' }}
</button>
<button
  [disabled]="!tree.treeModel.getFocusedNode()"
  (click)="tree.treeModel.getFocusedNode().blur()">
  blur
</button>
<button
  (click)="addNode(tree)">
  Add Node
</button>
<button
  (click)="activateSubSub(tree)">
  Activate inner node
</button>
<button
  (click)="tree.treeModel.expandAll()">
  Expand All
</button>
<button
  (click)="tree.treeModel.collapseAll()">
  Collapse All
</button>
<button
  (click)="activeNodes(tree.treeModel)">
  getActiveNodes()
</button> -->
